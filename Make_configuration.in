#
# MINC configuration Makefile
#

prefix = @prefix@
exec_prefix = @exec_prefix@

# Things to configure:
#    (note that all relative directories should be given with respect to
#    $(ROOT), the current directory)
#    NETCDF_LIB_DIR = directory in which netcdf library is found
#    NETCDF_INCLUDE_DIR = directory in which netcdf include file is found
#    NETCDF_FORTRAN_DIR = directory (or link) in which netcdf fortran jackets
#        are located (only used if FORTRAN_SUBDIR is set)
#    FORTRAN_SUBDIR = "fortran" to get compilation of fortran jackets, or
#        nothing to leave out fortran jackets
#    FORTRAN_OBJ = '$(ROOT)/$(FORTRAN_SUBDIR)/minc_jackets.o' to get
#        compilation of fortran jackets, nothing to leave out fortran
#        jackets (note that both FORTRAN flags should be blank to avoid
#        compiling the jackets)
#    INSTALL_BINDIR = directory into which binaries are to be copied - they
#        are not truly installed, just copied. The directory must exist.
#    INSTALL_LIBDIR = directory into which libraries should be copied. The
#        directory must exist.
#    INSTALL_INCDIR = directory into which include files should be copied.
#        The directory must exist.
#    INSTALL_MANDIR = directory into which man files should be copied. The
#        appropriate digit is appended (1 for user commands, 3 for 
#        library functions). The directories must exist already.
#    INSTALL_VOLIO_INCDIR = directory into which volume_io include files 
#        should be copied. The directory must exist.
#
NETCDF_PREFIX = @NETCDF_PREFIX@
NETCDF_LIB_DIR = $(NETCDF_PREFIX)/lib
NETCDF_INCLUDE_DIR = $(NETCDF_PREFIX)/include
NETCDF_FORTRAN_DIR = $(ROOT)/../netcdf/fortran
FORTRAN_SUBDIR = @FORTRAN_SUBDIR@
FORTRAN_OBJ = @FORTRAN_OBJ@
INSTALL_BINDIR = $(exec_prefix)/bin
INSTALL_LIBDIR = $(exec_prefix)/lib
INSTALL_INCDIR = $(prefix)/include
INSTALL_MANDIR = $(prefix)/man/cat
INSTALL_VOLIO_INCDIR = $(INSTALL_INCDIR)/volume_io

# ------------------------------------------------------------
# You probably shouldn't modify things beyond here

# MINC library
MINC_LIB_DIR  = $(ROOT)/libsrc
MINC_LIB      = minc
CC_MINC_LIB   = $(MINC_LIB_DIR)/lib$(MINC_LIB).a
LINT_MINC_LIB = $(MINC_LIB_DIR)/llib-l$(MINC_LIB).ln

# MINC program utility library
PROG_LIB_DIR  = $(ROOT)/progs/Proglib
PROG_LIB      = mincprog
CC_PROG_LIB   = $(PROG_LIB_DIR)/lib$(PROG_LIB).a
LINT_PROG_LIB = $(PROG_LIB_DIR)/llib-l$(PROG_LIB).ln

# Volume io library
VOLIO_LIB_DIR  = $(ROOT)/volume_io
VOLIO_LIB      = volume_io
CC_VOLIO_LIB   = $(VOLIO_LIB_DIR)/lib$(VOLIO_LIB).a
LINT_VOLIO_LIB = $(VOLIO_LIB_DIR)/llib-l$(VOLIO_LIB).ln

# Include directories
INCLUDES = -I. -I$(PROG_LIB_DIR) -I$(VOLIO_LIB_DIR)/Include \
	      -I$(MINC_LIB_DIR) -I$(NETCDF_INCLUDE_DIR)

# MINC loader options
MINC_LDOPT = $(CC_MINC_LIB) $(NETCDF_LIB_DIR)/libnetcdf.a $(MACHINE_LDOPT)
PROG_LDOPT = $(CC_PROG_LIB) $(CC_VOLIO_LIB) -lm $(MINC_LDOPT)
